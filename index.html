<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¾·ç›ä»•ç™¾ä¸‡å¤§æŠ½å¥–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
            background-color: #f8f8f8;
            background-image: radial-gradient(#ff6700 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: -19px -19px;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡µé¢å®¹å™¨ */
        .container {
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* å¤´éƒ¨æ ·å¼ */
        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        .logo {
            width: 180rpx;
            height: 180rpx;
            margin-bottom: 20rpx;
            animation: shake 0.5s ease-in-out 1;
        }

        .title {
            font-size: 48rpx;
            font-weight: bold;
            color: #333;
            margin-bottom: 10rpx;
        }

        .subtitle {
            font-size: 28rpx;
            color: #666;
        }

        /* æŠ½å¥–åŒºåŸŸæ ·å¼ */
        .lottery-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin-bottom: 30px;
        }

        /* è½¬ç›˜å®¹å™¨ */
        .turntable-container {
            position: relative;
            width: 70vw;
            height: 70vw;
            max-width: 300px;
            max-height: 300px;
            margin-bottom: 30px;
        }

        /* è½¬ç›˜æ ·å¼ */
        .turntable {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Canvasæ ·å¼ */
        #turntableCanvas {
            width: 100% !important;
            height: 100% !important;
            max-width: 300px;
            max-height: 300px;
        }

        /* è½¬ç›˜æŒ‡é’ˆå®¹å™¨ */
        .pointer-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            pointer-events: none;
        }

        /* è½¬ç›˜æŒ‡é’ˆ */
        .pointer {
            width: 100%;
            height: 100%;
            transform: rotate(180deg);
        }

        /* æŠ½å¥–æŒ‰é’® */
        .start-btn {
            width: 240px;
            height: 50px;
            line-height: 50px;
            background: linear-gradient(135deg, #ff6700, #ff9500);
            color: white;
            font-size: 18px;
            font-weight: bold;
            border-radius: 25px;
            margin-bottom: 15px;
            box-shadow: 0 6px 12px rgba(255, 103, 0, 0.4);
            border: none;
            outline: none;
            cursor: pointer;
            touch-action: manipulation;
        }

        .start-btn.disabled {
            background: #ccc;
            box-shadow: none;
            cursor: not-allowed;
        }

        /* æµ‹è¯•æŒ‰é’® */
        .test-btn {
            width: 200px;
            height: 45px;
            line-height: 45px;
            background: linear-gradient(135deg, #4ECDC4 0%, #45B7AA 100%);
            color: white;
            font-size: 16px;
            font-weight: bold;
            border-radius: 22.5px;
            margin-bottom: 15px;
            box-shadow: 0 4px 8px rgba(78, 205, 196, 0.4);
            border: none;
            outline: none;
            cursor: pointer;
            touch-action: manipulation;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(78, 205, 196, 0.5);
        }

        .test-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(78, 205, 196, 0.4);
        }

        /* æç¤ºä¿¡æ¯ */
        .tips {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }

        /* ç»“æœå¼¹çª— */
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
            touch-action: manipulation;
        }

        /* ç”µè¯å·ç éªŒè¯å¼¹çª— */
        .phone-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1100;
            display: none;
            touch-action: manipulation;
        }

        .phone-content {
            width: 90%;
            max-width: 320px;
            background: white;
            border-radius: 20px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .phone-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }

        .phone-input {
            width: 100%;
            height: 45px;
            padding: 0 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
            outline: none;
            transition: border-color 0.3s;
        }

        .phone-input:focus {
            border-color: #ff6700;
        }

        .phone-error {
            color: #ff4444;
            font-size: 14px;
            margin-bottom: 15px;
            min-height: 20px;
            text-align: left;
            width: 100%;
        }

        .phone-buttons {
            display: flex;
            width: 100%;
            gap: 10px;
        }

        .phone-confirm-btn {
            flex: 1;
            height: 45px;
            line-height: 45px;
            background: linear-gradient(135deg, #ff6700, #ff9500);
            color: white;
            font-size: 16px;
            font-weight: bold;
            border-radius: 8px;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .phone-cancel-btn {
            flex: 1;
            height: 45px;
            line-height: 45px;
            background: #e0e0e0;
            color: #666;
            font-size: 16px;
            font-weight: bold;
            border-radius: 8px;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .result-content {
            width: 90%;
            max-width: 320px;
            background: white;
            border-radius: 20px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.3s ease-out;
        }

        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .result-icon {
            width: 120rpx;
            height: 120rpx;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30rpx;
            font-size: 60rpx;
        }

        .result-icon.success {
            background: #4cd964;
            color: white;
        }

        .result-icon.fail {
            background: #ff3b30;
            color: white;
        }

        .result-title {
            font-size: 40rpx;
            font-weight: bold;
            margin-bottom: 20rpx;
        }

        .result-message {
            font-size: 32rpx;
            color: #666;
            text-align: center;
            margin-bottom: 40rpx;
            line-height: 1.5;
        }

        .result-btn {
            width: 300rpx;
            height: 80rpx;
            line-height: 80rpx;
            background: #ff6700;
            color: white;
            font-size: 32rpx;
            border-radius: 40rpx;
            border: none;
            outline: none;
            cursor: pointer;
        }

        /* è§„åˆ™è¯´æ˜åŒºåŸŸ */
        .rules-section {
            width: 100%;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .rules-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }

        .rules-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .rules-content p {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        /* é€‚é…ä¸åŒå°ºå¯¸çš„å±å¹• */
        @media (max-width: 375px) {
            .turntable-container {
                width: 75vw;
                height: 75vw;
            }
            canvas {
                width: 100% !important;
                height: 100% !important;
            }
            .start-btn {
                width: 220px;
                height: 48px;
                line-height: 48px;
                font-size: 17px;
            }
        }

        @media (max-width: 320px) {
            .turntable-container {
                width: 80vw;
                height: 80vw;
            }
            canvas {
                width: 100% !important;
                height: 100% !important;
            }
            .start-btn {
                width: 190px;
                height: 45px;
                line-height: 45px;
                font-size: 16px;
            }
        }

        /* æŠ½å¥–æµç¨‹è¯´æ˜æ ·å¼ */
        .process-section {
            width: 100%;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .process-title {
            font-size: 18px;
            font-weight: bold;
            color: #ff6700;
            margin-bottom: 15px;
        }

        .process-content {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .process-content p {
            font-size: 15px;
            color: #333;
            line-height: 1.6;
        }
    </style>
    <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ä¿¡æ¯ -->
        <div class="header">
            <h1 class="title">å¾·ç›ä»•ç™¾ä¸‡å¤§æŠ½å¥–</h1>
            <p class="subtitle">å¤šé‡å¥½ç¤¼ç­‰ä½ æ¥èµ¢ï¼</p>
        </div>

        <!-- æŠ½å¥–æµç¨‹è¯´æ˜ -->
        <div class="process-section">
            <h3 class="process-title">æŠ½å¥–æµç¨‹</h3>
            <div class="process-content">
                <p>1. æˆä¸ºå¾·ç›ä»•å“ç‰Œä¼šå‘˜ï¼Œæ´»åŠ¨æœŸé—´å³å¯è·å¾—1æ¬¡å…è´¹æŠ½å¥–æœºä¼šï¼›</p>
                <p>2. å‡¡æ˜¯æ´»åŠ¨æœŸé—´è´­ä¹°å¯è·å¾—æŠ½å¥–æœºä¼š1æ¬¡ï¼›</p>
                <p>3. æ”¶è—åŠ è´­æ´»åŠ¨å•†å“ï¼Œæ´»åŠ¨æœŸé—´å³å¯è·å¾—1æ¬¡å…è´¹æŠ½å¥–æœºä¼šï¼›</p>
                <p>4. ç‚¹å‡»"å¼€å§‹æŠ½å¥–"æŒ‰é’®ï¼Œè½¬ç›˜æ—‹è½¬å¹¶æœ€ç»ˆåœåœ¨éšæœºå¥–é¡¹ä¸Šï¼›</p>
                <p>5. ä¸­å¥–ç»“æœå°†å®æ—¶æ˜¾ç¤ºï¼Œä¸­å¥–ç”¨æˆ·éœ€æŒ‰æç¤ºè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
            </div>
        </div>

        <!-- æŠ½å¥–åŒºåŸŸ -->
        <div class="lottery-area">
            <!-- è½¬ç›˜å®¹å™¨ -->
            <div class="turntable-container">
                <!-- è½¬ç›˜ -->
                <div class="turntable" id="turntable" style="transform: rotate(0deg); transition: transform 0ms ease-out;">
                    <canvas id="turntableCanvas" width="600" height="600"></canvas>
                </div>
                <!-- è½¬ç›˜æŒ‡é’ˆ -->
                <div class="pointer-container">
                    <svg class="pointer" width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M30 0L15 60L45 60L30 0Z" fill="#FF6700"/>
                        <path d="M30 10L25 50L35 50L30 10Z" fill="#FFFFFF"/>
                    </svg>
                </div>
            </div>

            <!-- æŠ½å¥–æŒ‰é’® -->
            <button class="start-btn" id="startBtn">å¼€å§‹æŠ½å¥–</button>

            <!-- æµ‹è¯•æŒ‰é’® -->
            <button class="test-btn" id="testBtn">æµ‹è¯•è½¬ç›˜</button>

            <!-- æŠ½å¥–æ¬¡æ•°æç¤º -->
            <p class="tips" id="chancesTip">å‰©ä½™æŠ½å¥–æ¬¡æ•°ï¼š3</p>
        </div>

        <!-- æŠ½å¥–ç»“æœå¼¹çª— -->
        <div class="result-modal" id="resultModal">
            <div class="result-content">
                <div class="result-icon" id="resultIcon"></div>
                <h2 class="result-title" id="resultTitle"></h2>
                <p class="result-message" id="resultMessage"></p>
                <button class="result-btn" id="closeBtn">ç¡®å®š</button>
            </div>
        </div>

        <!-- ç”µè¯å·ç éªŒè¯å¼¹çª— -->
        <div class="phone-modal" id="phoneModal">
            <div class="phone-content">
                <h2 class="phone-title">è¯·è¾“å…¥æ‰‹æœºå·ç </h2>
                <input type="tel" class="phone-input" id="phoneInput" placeholder="è¯·è¾“å…¥11ä½æ‰‹æœºå·ç " maxlength="11">
                <p class="phone-error" id="phoneError"></p>
                <div class="phone-buttons">
                    <button class="phone-cancel-btn" id="phoneCancelBtn">å–æ¶ˆ</button>
                    <button class="phone-confirm-btn" id="phoneConfirmBtn">ç¡®å®š</button>
                </div>
            </div>
        </div>

        <!-- æŠ½å¥–è§„åˆ™è¯´æ˜ -->
        <div class="rules-section">
            <h3 class="rules-title">æ´»åŠ¨è§„åˆ™</h3>
            <div class="rules-content">
                <p>æŠ½å¥–æµç¨‹ï¼šç”¨æˆ·å®ŒæˆæŒ‡å®šä»»åŠ¡åï¼ŒæŠ½å¥–æœºä¼šå°†è‡ªåŠ¨è®¡å…¥è´¦æˆ·ã€‚è¿›å…¥æ´»åŠ¨é¡µé¢å³å¯ç‚¹å‡»æŠ½å¥–ï¼Œå¥–å“éšæœºæŠ½å–ï¼Œ100%æœ‰å¥–ã€‚</p>
                <p>ä¸­å¥–é€šçŸ¥ï¼šä¸­å¥–ç»“æœå°†å®æ—¶æ˜¾ç¤ºã€‚ä¸­å¥–å®ç‰©å¥–å“åŠå¤§é¢ä¼˜æƒ åˆ¸çš„ç”¨æˆ·ï¼Œéœ€åœ¨24å°æ—¶å†…è”ç³»å®¢æœç™»è®°ï¼Œé€¾æœŸè§†ä¸ºè‡ªåŠ¨æ”¾å¼ƒã€‚</p>
                <p>å¥–å“å‘æ”¾ï¼š</p>
                <p>ä¼˜æƒ åˆ¸ç±»å¥–å“ï¼šå°†è‡ªåŠ¨å‘æ”¾è‡³ä¸­å¥–ç”¨æˆ·çš„è´¦æˆ·ï¼Œæœ‰æ•ˆæœŸè‡³9æœˆ17æ—¥24:00</p>
                <p>å®ç‰©å¥–å“ï¼šå°†åœ¨æ´»åŠ¨ç»“æŸå10ä¸ªå·¥ä½œæ—¥å†…ç»Ÿä¸€æ ¸å®å¹¶å¯„å‡ºã€‚</p>
                <p>èµ„æ ¼å–æ¶ˆæ¡æ¬¾ï¼š</p>
                <p>è‹¥ç”¨æˆ·è´¦æˆ·å­˜åœ¨å¼‚å¸¸ã€ä½œå¼Šæˆ–è¿åå¹³å°è§„åˆ™çš„è¡Œä¸ºï¼Œå¾·ç›ä»•æœ‰æƒå–æ¶ˆå…¶è·å¥–èµ„æ ¼ã€‚</p>
                <p>é’ˆå¯¹è·å¾—çš„æŠ½å¥–æœºä¼šåŠå¥–å“ï¼š</p>
                <p>è‹¥è¯¥ç¬”è®¢å•åœ¨æŠ½å¥–åå‘ç”Ÿå…¨é¢é€€æ¬¾æˆ–å–æ¶ˆï¼Œåˆ™ç”±æ­¤è®¢å•è·å¾—çš„æŠ½å¥–æœºä¼šåŠé€šè¿‡è¿™æœºä¼šæŠ½ä¸­çš„æ‰€æœ‰å¥–å“ï¼ˆåŒ…æ‹¬ä¼˜æƒ åˆ¸å’Œå®ç‰©ï¼‰å°†è‡ªåŠ¨å¤±æ•ˆã€‚</p>
                <p>è‹¥è®¢å•ä¸ºéƒ¨åˆ†é€€æ¬¾ï¼Œä¸”è®¢å•çŠ¶æ€ä»ä¸º"äº¤æ˜“æˆåŠŸ"ï¼Œåˆ™æŠ½å¥–èµ„æ ¼åŠæ‰€è·å¥–å“äºˆä»¥ä¿ç•™ã€‚</p>
                <p>æ‰€æœ‰ä¼˜æƒ åˆ¸å¥–å“ä¸€ç»ä½¿ç”¨ï¼Œè‹¥è®¢å•å‘ç”Ÿé€€æ¬¾ï¼Œè¯¥ä¼˜æƒ åˆ¸å°†ä½œåºŸä¸äºˆé€€è¿˜ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let isRotating = false; // æ˜¯å¦æ­£åœ¨æ—‹è½¬
        let remainingChances = 3; // å‰©ä½™æŠ½å¥–æ¬¡æ•°
        const maxChances = 3; // æœ€å¤§æŠ½å¥–æ¬¡æ•°

        // å¥–é¡¹æ•°æ®
        const prizes = [
            { name: 'å…«ç­‰å¥–ï¼š50å…ƒä¼˜æƒ åˆ¸', value: '800å…ƒ-50å…ƒä¼˜æƒ åˆ¸', color: '#FF6B6B', probability: 5, image: '../assets/images/coupon_50.png' },
            { name: 'ä¸ƒç­‰å¥–ï¼š100å…ƒä¼˜æƒ åˆ¸', value: '1500å…ƒ-100å…ƒä¼˜æƒ åˆ¸', color: '#CD7F32', probability: 5, image: '../assets/images/coupon_100.png' },
            { name: 'å…­ç­‰å¥–ï¼š200å…ƒä¼˜æƒ åˆ¸', value: '3000å…ƒ-200å…ƒä¼˜æƒ åˆ¸', color: '#C0C0C0', probability: 5, image: '../assets/images/coupon_200.png' },
            { name: 'äº”ç­‰å¥–ï¼š300å…ƒä¼˜æƒ åˆ¸', value: '5000å…ƒ-300å…ƒä¼˜æƒ åˆ¸', color: '#FFD700', probability: 5, image: '../assets/images/coupon_300.png' },
            { name: 'å››ç­‰å¥–ï¼š500å…ƒä¼˜æƒ åˆ¸', value: '10000å…ƒ-500å…ƒä¼˜æƒ åˆ¸', color: '#4ECDC4', probability: 79, image: '../assets/images/coupon_500.png' },
            { name: 'ä¸‰ç­‰å¥–ï¼šå¾·ç›ä»•ç”µç£ç‚‰', value: 'å¾·ç›ä»•3500Wç”µç£ç‚‰IH-QT-3500H1(ä»·å€¼599å…ƒ)', color: '#FF9800', probability: 1, image: '../assets/images/induction_cooker.png' },
            { name: 'äºŒç­‰å¥–ï¼šåä¸ºå¹³æ¿', value: 'åä¸ºå¹³æ¿HUWEIMatePad(ä»·å€¼1899å…ƒ)', color: '#9C27B0', probability: 0, image: '../assets/images/huawei_tablet.png' },
            { name: 'ä¸€ç­‰å¥–ï¼šåä¸ºMate XTæ‰‹æœº', value: 'åä¸ºMate XT éå‡¡å¤§å¸ˆ ä¸‰æŠ˜å å±æ‰‹æœº(ä»·å€¼19999å…ƒ)', color: '#E91E63', probability: 0, image: '../assets/images/huawei_phone.png' }
        ];

        // DOMå…ƒç´ 
        const turntable = document.getElementById('turntable');
        const canvas = document.getElementById('turntableCanvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const testBtn = document.getElementById('testBtn');
        const chancesTip = document.getElementById('chancesTip');
        const resultModal = document.getElementById('resultModal');
        const resultIcon = document.getElementById('resultIcon');
        const resultTitle = document.getElementById('resultTitle');
        const resultMessage = document.getElementById('resultMessage');
        const closeBtn = document.getElementById('closeBtn');
        const phoneModal = document.getElementById('phoneModal');
        const phoneInput = document.getElementById('phoneInput');
        const phoneError = document.getElementById('phoneError');
        const phoneConfirmBtn = document.getElementById('phoneConfirmBtn');
        const phoneCancelBtn = document.getElementById('phoneCancelBtn');
        
        // æ‰‹æœºå·ç æ”¶é›†ç›¸å…³
        let validatedPhoneNumber = null; // å½“å‰éªŒè¯çš„æ‰‹æœºå·
        let collectedPhones = JSON.parse(localStorage.getItem('collectedPhones')) || []; // æ”¶é›†çš„æ‰‹æœºå·åˆ—è¡¨
        
        // æµ‹è¯•ç”¨ï¼šæ·»åŠ ä¸€äº›æ¨¡æ‹Ÿæ•°æ®ï¼ˆä»…åœ¨æ²¡æœ‰æ•°æ®æ—¶æ·»åŠ ï¼‰
        if (collectedPhones.length === 0) {
            collectedPhones = [
                { phone: '13812345678', timestamp: '2024-04-20 10:30:45' },
                { phone: '13987654321', timestamp: '2024-04-20 11:45:22' }
            ];
            localStorage.setItem('collectedPhones', JSON.stringify(collectedPhones));
        }
        
        // ç¡®ä¿æ¯æ¬¡éƒ½éœ€è¦é‡æ–°éªŒè¯
        localStorage.removeItem('validatedPhoneNumber');
        
        // æ·»åŠ ä¸€ä¸ªç®€å•çš„æç¤ºä¿¡æ¯
        function showAdminToolsInfo() {
            const infoDiv = document.createElement('div');
            infoDiv.textContent = 'ğŸ’¡ æç¤ºï¼šé¡µé¢å³ä¸‹è§’æœ‰ç®¡ç†æŒ‰é’®ï¼Œå¯ç”¨äºæŸ¥çœ‹ã€å¯¼å‡ºå’Œç®¡ç†æ”¶é›†çš„æ‰‹æœºå·æ•°æ®';
            infoDiv.style.position = 'fixed';
            infoDiv.style.top = '20px';
            infoDiv.style.left = '50%';
            infoDiv.style.transform = 'translateX(-50%)';
            infoDiv.style.zIndex = '9999';
            infoDiv.style.padding = '10px 20px';
            infoDiv.style.backgroundColor = 'rgba(76, 175, 80, 0.9)';
            infoDiv.style.color = 'white';
            infoDiv.style.borderRadius = '5px';
            infoDiv.style.fontSize = '14px';
            infoDiv.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
            document.body.appendChild(infoDiv);
            
            // 3ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
                infoDiv.style.opacity = '0';
                infoDiv.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(infoDiv);
                }, 500);
            }, 5000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            init();
        };

        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æŠ½å¥–æ¬¡æ•°
            loadChances();
            
            // ç»˜åˆ¶è½¬ç›˜
            drawTurntable();
            
            // æ‰“å°åˆå§‹éªŒè¯çŠ¶æ€ï¼Œä¾¿äºè°ƒè¯•
            console.log('åˆå§‹éªŒè¯çŠ¶æ€:', validatedPhoneNumber);
            console.log('å·²æ”¶é›†æ‰‹æœºå·æ•°é‡:', collectedPhones.length);
            console.log('æ‰‹æœºå·åˆ—è¡¨:', collectedPhones);
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬
            startBtn.addEventListener('click', startRotate);
            testBtn.addEventListener('click', testRotate);
            closeBtn.addEventListener('click', closeResult);
            phoneConfirmBtn.addEventListener('click', confirmPhoneNumber);
            phoneCancelBtn.addEventListener('click', closePhoneModal);
            phoneInput.addEventListener('input', clearPhoneError);
            
            // åˆå§‹åŒ–å¾®ä¿¡åˆ†äº«
            initWechatShare();
            
            // æ˜¾ç¤ºç®¡ç†å·¥å…·æç¤º
            showAdminToolsInfo();
            
            // æ·»åŠ ç®¡ç†æŒ‰é’®ï¼ˆæ‰€æœ‰ç¯å¢ƒéƒ½å¯è§ï¼‰
            // å¯¼å‡ºæŒ‰é’®
            const exportBtn = document.createElement('button');
            exportBtn.textContent = 'å¯¼å‡ºæ‰‹æœºå·æ•°æ®';
            exportBtn.style.position = 'fixed';
            exportBtn.style.bottom = '20px';
            exportBtn.style.right = '20px';
            exportBtn.style.zIndex = '9999';
            exportBtn.style.padding = '10px 20px';
            exportBtn.style.backgroundColor = '#4CAF50';
            exportBtn.style.color = 'white';
            exportBtn.style.border = 'none';
            exportBtn.style.borderRadius = '5px';
            exportBtn.style.cursor = 'pointer';
            exportBtn.addEventListener('click', exportPhoneData);
            document.body.appendChild(exportBtn);
            
            // æŸ¥çœ‹æŒ‰é’®
            const viewBtn = document.createElement('button');
            viewBtn.textContent = 'æŸ¥çœ‹å·²æ”¶é›†æ‰‹æœºå·';
            viewBtn.style.position = 'fixed';
            viewBtn.style.bottom = '20px';
            viewBtn.style.right = '200px';
            viewBtn.style.zIndex = '9999';
            viewBtn.style.padding = '10px 20px';
            viewBtn.style.backgroundColor = '#2196F3';
            viewBtn.style.color = 'white';
            viewBtn.style.border = 'none';
            viewBtn.style.borderRadius = '5px';
            viewBtn.style.cursor = 'pointer';
            viewBtn.addEventListener('click', function() {
                if (collectedPhones.length === 0) {
                    alert('æš‚æ— æ”¶é›†åˆ°çš„æ‰‹æœºå·æ•°æ®');
                } else {
                    // åœ¨æ§åˆ¶å°æ˜¾ç¤ºè¯¦ç»†æ•°æ®
                    console.log('å®Œæ•´æ‰‹æœºå·åˆ—è¡¨:', collectedPhones);
                    // ç®€å•å¼¹çª—æ˜¾ç¤ºæ•°é‡å’Œéƒ¨åˆ†ä¿¡æ¯
                    const phoneListText = collectedPhones.map((item, index) => 
                        `${index + 1}. ${item.phone} (${item.timestamp})`
                    ).join('\n');
                    alert(`å…±æ”¶é›†åˆ° ${collectedPhones.length} ä¸ªæ‰‹æœºå·\n\n${phoneListText}`);
                }
            });
            document.body.appendChild(viewBtn);
            
            // æ¸…ç©ºæŒ‰é’®
            const clearBtn = document.createElement('button');
            clearBtn.textContent = 'æ¸…ç©ºæ”¶é›†æ•°æ®';
            clearBtn.style.position = 'fixed';
            clearBtn.style.bottom = '20px';
            clearBtn.style.right = '380px';
            clearBtn.style.zIndex = '9999';
            clearBtn.style.padding = '10px 20px';
            clearBtn.style.backgroundColor = '#f44336';
            clearBtn.style.color = 'white';
            clearBtn.style.border = 'none';
            clearBtn.style.borderRadius = '5px';
            clearBtn.style.cursor = 'pointer';
            clearBtn.addEventListener('click', function() {
                if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ”¶é›†çš„æ‰‹æœºå·æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                    collectedPhones = [];
                    localStorage.removeItem('collectedPhones');
                    localStorage.removeItem('validatedPhoneNumber');
                    validatedPhoneNumber = null;
                    alert('æ•°æ®å·²æ¸…ç©º');
                    console.log('å·²æ¸…ç©ºæ”¶é›†çš„æ‰‹æœºå·æ•°æ®');
                }
            });
            document.body.appendChild(clearBtn);
        }

        // éªŒè¯æ‰‹æœºå·æ ¼å¼
        function validatePhoneNumber(phone) {
            const phoneRegex = /^1[3-9]\d{9}$/;
            return phoneRegex.test(phone);
        }

        // æ˜¾ç¤ºæ‰‹æœºå·éªŒè¯å¼¹çª—
        function showPhoneModal() {
            phoneInput.value = '';
            phoneError.textContent = '';
            phoneModal.style.display = 'flex';
        }

        // å…³é—­æ‰‹æœºå·éªŒè¯å¼¹çª—
        function closePhoneModal() {
            phoneModal.style.display = 'none';
        }

        // æ¸…é™¤æ‰‹æœºå·é”™è¯¯æç¤º
        function clearPhoneError() {
            phoneError.textContent = '';
        }

        // ç¡®è®¤æ‰‹æœºå·
        function confirmPhoneNumber() {
            const phoneNumber = phoneInput.value.trim();
            
            if (!phoneNumber) {
                phoneError.textContent = 'è¯·è¾“å…¥æ‰‹æœºå·ç ';
                return;
            }
            
            if (!validatePhoneNumber(phoneNumber)) {
                phoneError.textContent = 'è¯·è¾“å…¥æ­£ç¡®çš„11ä½æ‰‹æœºå·ç ';
                return;
            }
            
            // ä¿å­˜å·²éªŒè¯çš„æ‰‹æœºå·
            validatedPhoneNumber = phoneNumber;
            localStorage.setItem('validatedPhoneNumber', phoneNumber);
            
            // æ·»åŠ åˆ°æ”¶é›†åˆ—è¡¨ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
            const isPhoneExists = collectedPhones.some(item => item.phone === phoneNumber);
            if (!isPhoneExists) {
                collectedPhones.push({
                    phone: phoneNumber,
                    timestamp: new Date().toLocaleString()
                });
                localStorage.setItem('collectedPhones', JSON.stringify(collectedPhones));
                console.log('æ‰‹æœºå·å·²æ·»åŠ åˆ°æ”¶é›†åˆ—è¡¨');
            }
            
            // å…³é—­å¼¹çª—å¹¶ç»§ç»­æŠ½å¥–
            closePhoneModal();
            performRotate();
        }
        
        // å¯¼å‡ºæ‰‹æœºå·æ•°æ®ä¸ºCSV
        function exportPhoneData() {
            if (collectedPhones.length === 0) {
                alert('æš‚æ— æ”¶é›†åˆ°çš„æ‰‹æœºå·æ•°æ®');
                return;
            }
            
            // åˆ›å»ºCSVå†…å®¹
            let csvContent = 'ç”µè¯å·,æäº¤æ—¶é—´\n';
            collectedPhones.forEach(item => {
                csvContent += `${item.phone},"${item.timestamp}"\n`;
            });
            
            // åˆ›å»ºBlobå¯¹è±¡
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            if (link.download !== undefined) {
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', `ç”µè¯å·ç æ•°æ®_${new Date().toISOString().slice(0,10)}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æŠ½å¥–æ¬¡æ•°
        function loadChances() {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('lotteryDate');
            const savedChances = localStorage.getItem('lotteryChances');
            
            // å¦‚æœæ˜¯åŒä¸€å¤©ï¼ŒåŠ è½½ä¿å­˜çš„æ¬¡æ•°ï¼›å¦åˆ™é‡ç½®æ¬¡æ•°
            if (savedDate === today && savedChances !== null) {
                remainingChances = parseInt(savedChances);
            } else {
                remainingChances = maxChances;
                saveChances();
            }
            
            // æ›´æ–°æç¤ºä¿¡æ¯
            updateChancesTip();
        }

        // ä¿å­˜æŠ½å¥–æ¬¡æ•°åˆ°æœ¬åœ°å­˜å‚¨
        function saveChances() {
            const today = new Date().toDateString();
            localStorage.setItem('lotteryDate', today);
            localStorage.setItem('lotteryChances', remainingChances.toString());
        }

        // æ›´æ–°æŠ½å¥–æ¬¡æ•°æç¤º
        function updateChancesTip() {
            if (remainingChances > 0) {
                chancesTip.textContent = 'å‰©ä½™æŠ½å¥–æ¬¡æ•°ï¼š' + remainingChances;
            } else {
                chancesTip.textContent = 'æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œ';
                startBtn.classList.add('disabled');
                startBtn.disabled = true;
            }
        }

        // ç»˜åˆ¶è½¬ç›˜
        function drawTurntable() {
            const width = canvas.width / 2; // è½¬ç›˜åŠå¾„
            const centerX = width; // ä¸­å¿ƒç‚¹Xåæ ‡
            const centerY = width; // ä¸­å¿ƒç‚¹Yåæ ‡
            const angle = 2 * Math.PI / prizes.length; // æ¯ä¸ªæ‰‡å½¢çš„è§’åº¦
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶æ¯ä¸ªå¥–é¡¹åŒºåŸŸ
            for (let i = 0; i < prizes.length; i++) {
                const prize = prizes[i];
                const startAngle = i * angle;
                const endAngle = (i + 1) * angle;
                
                // ç»˜åˆ¶æ‰‡å½¢
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, width, startAngle, endAngle);
                ctx.closePath();
                ctx.fillStyle = prize.color;
                ctx.fill();
                
                // ç»˜åˆ¶åˆ†å‰²çº¿
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(centerX + width * Math.cos(startAngle), centerY + width * Math.sin(startAngle));
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // ç»˜åˆ¶å¥–é¡¹åç§°
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + angle / 2);
                ctx.font = '20px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.fillStyle = '#fff';
                ctx.textAlign = 'center';
                ctx.fillText(prize.name, width * 0.6, 8);
                
                // ç»˜åˆ¶å¥–é¡¹å›¾ç‰‡ï¼ˆä½¿ç”¨å ä½ç¬¦å›¾åƒï¼Œå®é™…å›¾ç‰‡ä¼šåœ¨åŠ è½½åæ˜¾ç¤ºï¼‰
                if (prize.image) {
                    const img = new Image();
                    img.src = prize.image;
                    img.onload = function() {
                        // ç”±äºå›¾ç‰‡åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼Œè¿™é‡Œéœ€è¦é‡æ–°è·å–ç”»å¸ƒä¸Šä¸‹æ–‡å¹¶è®¾ç½®ç›¸åŒçš„å˜æ¢
                        const tempCtx = document.getElementById('turntableCanvas').getContext('2d');
                        tempCtx.save();
                        tempCtx.translate(centerX, centerY);
                        tempCtx.rotate(startAngle + angle / 2);
                        
                        // è®¡ç®—å›¾ç‰‡å°ºå¯¸å’Œä½ç½®
                        const imgSize = 40; // å›¾ç‰‡å¤§å°
                        const imgX = width * 0.4;
                        const imgY = -20;
                        
                        // ç»˜åˆ¶å›¾ç‰‡
                        tempCtx.drawImage(img, imgX, imgY, imgSize, imgSize);
                        tempCtx.restore();
                    };
                }
                
                ctx.restore();
            }
            
            // ç»˜åˆ¶å†…åœ†
            ctx.beginPath();
            ctx.arc(centerX, centerY, 50, 0, 2 * Math.PI);
            ctx.fillStyle = '#fff';
            ctx.fill();
        }

        // å¼€å§‹æŠ½å¥–
        function startRotate() {
            // æ£€æŸ¥æ˜¯å¦è¿˜æœ‰æŠ½å¥–æ¬¡æ•°
            if (remainingChances <= 0) {
                alert('æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œ');
                return;
            }
            
            // é˜²æ­¢é‡å¤ç‚¹å‡»
            if (isRotating) {
                return;
            }
            
            // æ£€æŸ¥æ˜¯å¦å·²éªŒè¯æ‰‹æœºå·
            if (!validatedPhoneNumber) {
                showPhoneModal();
            } else {
                performRotate();
            }
        }

        // æ‰§è¡ŒæŠ½å¥–æ—‹è½¬
        function performRotate() {
            // è®¾ç½®æ—‹è½¬ä¸­çŠ¶æ€
            isRotating = true;
            startBtn.textContent = 'æŠ½å¥–ä¸­...';
            startBtn.classList.add('disabled');
            startBtn.disabled = true;
            
            // éšæœºé€‰æ‹©ä¸€ä¸ªå¥–é¡¹
            const prizeIndex = selectPrize();
            const prize = prizes[prizeIndex];
            
            // è®¡ç®—æ—‹è½¬è§’åº¦å’ŒåŠ¨ç”»æ—¶é—´
            const angle = 360 / prizes.length;
            const targetDeg = 360 * 5 + (prizes.length - 1 - prizeIndex) * angle + (angle / 2);
            const duration = 5000; // æ—‹è½¬åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
            
            // æ›´æ–°æ ·å¼ï¼Œè§¦å‘æ—‹è½¬åŠ¨ç”»
            turntable.style.transition = `transform ${duration}ms ease-out`;
            turntable.style.transform = `rotate(${targetDeg}deg)`;
            
            // å‡å°‘æŠ½å¥–æ¬¡æ•°å¹¶ä¿å­˜
            remainingChances--;
            saveChances();
            updateChancesTip();
            
            // åŠ¨ç”»ç»“æŸåæ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                showResult(prize);
            }, duration);
        }

        // éšæœºé€‰æ‹©å¥–é¡¹
        function selectPrize() {
            // è®¡ç®—æ€»æ¦‚ç‡
            let totalProbability = 0;
            for (const prize of prizes) {
                totalProbability += prize.probability;
            }
            
            // ç”Ÿæˆéšæœºæ•°
            const random = Math.random() * totalProbability;
            
            // æ ¹æ®æ¦‚ç‡é€‰æ‹©å¥–é¡¹
            let cumulativeProbability = 0;
            for (let i = 0; i < prizes.length; i++) {
                cumulativeProbability += prizes[i].probability;
                if (random < cumulativeProbability) {
                    return i;
                }
            }
            
            // é»˜è®¤è¿”å›æœ€åä¸€ä¸ªå¥–é¡¹
            return prizes.length - 1;
        }

        // æ˜¾ç¤ºæŠ½å¥–ç»“æœ
        function showResult(prize) {
            // é‡ç½®æ—‹è½¬çŠ¶æ€
            isRotating = false;
            
            // æ¢å¤æŒ‰é’®çŠ¶æ€
            if (remainingChances > 0) {
                startBtn.textContent = 'å¼€å§‹æŠ½å¥–';
                startBtn.classList.remove('disabled');
                startBtn.disabled = false;
            } else {
                startBtn.textContent = 'æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œ';
            }
            
            // è®¾ç½®ç»“æœä¿¡æ¯
            if (prize.name === 'è°¢è°¢å‚ä¸') {
                resultIcon.className = 'result-icon fail';
                resultIcon.textContent = 'âœ—';
                resultTitle.textContent = 'å†æ¥å†å‰ï¼';
                resultMessage.textContent = prize.value;
            } else {
                resultIcon.className = 'result-icon success';
                resultIcon.textContent = 'âœ“';
                resultTitle.textContent = 'æ­å–œä¸­å¥–ï¼';
                resultMessage.textContent = 'æ­å–œè·å¾— ' + prize.value;
            }
            
            // æ˜¾ç¤ºç»“æœå¼¹çª—
            resultModal.style.display = 'flex';
        }

        // å…³é—­ç»“æœå¼¹çª—
        function closeResult() {
            resultModal.style.display = 'none';
        }

        // åˆå§‹åŒ–å¾®ä¿¡åˆ†äº«
        function initWechatShare() {
            // æ£€æµ‹æ˜¯å¦åœ¨å¾®ä¿¡ç¯å¢ƒä¸­
            const isWechat = /MicroMessenger/i.test(navigator.userAgent);
            
            if (isWechat) {
                // è¿™é‡Œéœ€è¦åç«¯æä¾›ç­¾åç­‰ä¿¡æ¯
                // å®é™…ä½¿ç”¨æ—¶éœ€è¦æ›¿æ¢ä¸ºçœŸå®çš„æ¥å£è°ƒç”¨
                /*
                wx.config({
                    debug: false,
                    appId: '', // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†
                    timestamp: '', // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³
                    nonceStr: '', // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²
                    signature: '',// å¿…å¡«ï¼Œç­¾å
                    jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage']
                });
                
                wx.ready(function() {
                    // åˆ†äº«ç»™æœ‹å‹
                    wx.onMenuShareAppMessage({
                        title: 'å¹¸è¿æŠ½å¥–è½¬ç›˜', // åˆ†äº«æ ‡é¢˜
                        desc: 'å¿«æ¥è¯•è¯•æ‰‹æ°”ï¼ŒæŠ½å¤§å¥–ï¼', // åˆ†äº«æè¿°
                        link: window.location.href, // åˆ†äº«é“¾æ¥
                        imgUrl: '../assets/images/share.svg', // åˆ†äº«å›¾æ ‡
                        type: '', // åˆ†äº«ç±»å‹,musicã€videoæˆ–linkï¼Œä¸å¡«é»˜è®¤ä¸ºlink
                        dataUrl: '', // å¦‚æœtypeæ˜¯musicæˆ–videoï¼Œåˆ™è¦æä¾›æ•°æ®é“¾æ¥ï¼Œé»˜è®¤ä¸ºç©º
                        success: function() {
                            // ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
                        },
                        cancel: function() {
                            // ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
                        }
                    });
                    
                    // åˆ†äº«åˆ°æœ‹å‹åœˆ
                    wx.onMenuShareTimeline({
                        title: 'å¹¸è¿æŠ½å¥–è½¬ç›˜', // åˆ†äº«æ ‡é¢˜
                        link: window.location.href, // åˆ†äº«é“¾æ¥
                        imgUrl: '../assets/images/share.svg', // åˆ†äº«å›¾æ ‡
                        success: function() {
                            // ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
                        },
                        cancel: function() {
                            // ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°
                        }
                    });
                });
                */
            }
        }

        // æµ‹è¯•æ—‹è½¬ï¼ˆä¸æ¶ˆè€—æŠ½å¥–æ¬¡æ•°ï¼‰
        function testRotate() {
            // é˜²æ­¢é‡å¤ç‚¹å‡»
            if (isRotating) {
                return;
            }
            
            // æ£€æŸ¥æ˜¯å¦å·²éªŒè¯æ‰‹æœºå·
            if (!validatedPhoneNumber) {
                showPhoneModal();
                return;
            }
            
            // è®¾ç½®æ—‹è½¬ä¸­çŠ¶æ€
            isRotating = true;
            startBtn.textContent = 'æŠ½å¥–ä¸­...';
            startBtn.classList.add('disabled');
            startBtn.disabled = true;
            testBtn.textContent = 'æµ‹è¯•ä¸­...';
            testBtn.classList.add('disabled');
            testBtn.disabled = true;
            
            // éšæœºé€‰æ‹©ä¸€ä¸ªå¥–é¡¹
            const prizeIndex = selectPrize();
            const prize = prizes[prizeIndex];
            
            // è®¡ç®—æ—‹è½¬è§’åº¦å’ŒåŠ¨ç”»æ—¶é—´
            const angle = 360 / prizes.length;
            const targetDeg = 360 * 5 + (prizes.length - 1 - prizeIndex) * angle + (angle / 2);
            const duration = 5000; // æ—‹è½¬åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
            
            // æ›´æ–°æ ·å¼ï¼Œè§¦å‘æ—‹è½¬åŠ¨ç”»
            turntable.style.transition = `transform ${duration}ms ease-out`;
            turntable.style.transform = `rotate(${targetDeg}deg)`;
            
            // åŠ¨ç”»ç»“æŸåæ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                // é‡ç½®æ—‹è½¬çŠ¶æ€
                isRotating = false;
                
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                startBtn.textContent = 'å¼€å§‹æŠ½å¥–';
                if (remainingChances > 0) {
                    startBtn.classList.remove('disabled');
                    startBtn.disabled = false;
                }
                testBtn.textContent = 'æµ‹è¯•è½¬ç›˜';
                testBtn.classList.remove('disabled');
                testBtn.disabled = false;
                
                // è®¾ç½®ç»“æœä¿¡æ¯
                resultIcon.className = 'result-icon success';
                resultIcon.textContent = 'âœ“';
                resultTitle.textContent = 'æµ‹è¯•ç»“æœ';
                resultMessage.textContent = 'æ¨¡æ‹Ÿè·å¾— ' + prize.value;
                
                // æ˜¾ç¤ºç»“æœå¼¹çª—
                resultModal.style.display = 'flex';
            }, duration);
        }
    </script>
</body>
</html>